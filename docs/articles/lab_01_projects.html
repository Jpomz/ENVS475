<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Improving your workflow through projects • ENVS475</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Improving your workflow through projects">
<meta property="og:description" content="ENVS475">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ENVS475</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2025.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/syllabus.html">
    <span class="fa fa-book"></span>
     
    Syllabus
  </a>
</li>
<li>
  <a href="../articles/schedule.html">
    <span class="fa fa-calendar"></span>
     
    Schedule
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-desktop"></span>
     
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/lectures/lecture_01/lecture_01.html">Lecture 01: Course introduction</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_03_basic-stats/lecture_03_basic-stats_2025.html">Lecture 03: Basic Statistics</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_05_estimation/lecture_05_estimation.html">Lecture 05: Point Estimates</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_06_intro-models/lecture_06_intro-models.html">Lecture 06: Intro to Models</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_07_t-tests/lecture_07_t-tests.html">Lecture 07: t-tests</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_09_tidy/lecture_09_tidy.html">Lecture 09: Tidy</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_10_anova/lecture_10_anova.html">Lecture 10: ANOVA</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_11_factorial/lecture_11_factorial_anova.pdf">Lecture 11: Factorial</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_12_two-way/lecture_12_two-way.pdf">Lecture 12: Factorial</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_13_regression/lecture_13_regression.pdf">Lecture 13: Regression</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-laptop-code"></span>
     
    Labs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/lab_01_projects.html">lab 01: projects</a>
    </li>
    <li>
      <a href="../articles/lab_02_intro_to_R.html">lab 02: Intro to R</a>
    </li>
    <li>
      <a href="../articles/lab_03_normal-distributions.html">lab 03: Normal Distributions</a>
    </li>
    <li>
      <a href="../articles/lab_04a_dplyr.html">lab 04a: dplyr</a>
    </li>
    <li>
      <a href="../articles/lab_04b_ggplot.html">lab 04b: ggplot</a>
    </li>
    <li>
      <a href="../articles/lab_05_point-estimates.html">lab 05: point estimates</a>
    </li>
    <li>
      <a href="../articles/lab_06_linear-models.html">lab 06: linear models</a>
    </li>
    <li>
      <a href="../articles/lab_08_t-tests.html">lab 07: t-tests</a>
    </li>
    <li>
      <a href="../articles/lab_09_tidy-data-entry.html">lab 09: Tidy Data Entry</a>
    </li>
    <li>
      <a href="../articles/lab_10_anova.html">lab 10: ANOVA</a>
    </li>
    <li>
      <a href="../articles/lab_11_factorial-anova.html">lab 11: Factorial ANOVA</a>
    </li>
    <li>
      <a href="../articles/lab_12_2-way-anova.html">lab 12: 2-way anova</a>
    </li>
    <li>
      <a href="../articles/lab_13_linear-regression.html">lab 13: Linear Regression</a>
    </li>
    <li>
      <a href="../articles/lab_14_ANCOVA.html">lab 14: ANCOVA</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-folder-open"></span>
     
    Homework
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/homework/HW_01.html">Homework 01 setup</a>
    </li>
    <li>
      <a href="../articles/homework/HW_02_intro_R.html">Homework 02 Intro to R</a>
    </li>
    <li>
      <a href="../articles/homework/HW_03_normal-distributions.html">Homework 03 Normal Distributions</a>
    </li>
    <li>
      <a href="../articles/homework/HW_04_dplyr_ggplot.html">Homework 04 dplyr + ggplot2</a>
    </li>
    <li>
      <a href="../articles/homework/HW_05_point-estimates.html">Homework 05 Point Estimates</a>
    </li>
    <li>
      <a href="../articles/homework/HW_06_linear_models.html">Homework 06 Intro to Linear Models</a>
    </li>
    <li>
      <a href="../articles/homework/HW_07_t-tests.html">Homework 07 t-tests</a>
    </li>
    <li>
      <a href="../articles/homework/HW_09_tidy.html">Homework 09 Tidy</a>
    </li>
    <li>
      <a href="../articles/homework/HW_10_ANOVA.html">Homework 10 ANOVA</a>
    </li>
    <li>
      <a href="../articles/homework/HW_11_factorial.html">Homework 11 Factorial ANOVA</a>
    </li>
    <li>
      <a href="../articles/homework/HW_12_two-way-ANOVA.html">Homework 12 2-way ANOVA</a>
    </li>
    <li>
      <a href="../articles/homework/HW_13_linear-regression.html">Homework 13 Linear Regression</a>
    </li>
    <li>
      <a href="../articles/homework/HW_14_ANCOVA.html">Homework 14 ANCOVA</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-pencil-square-o"></span>
     
    References
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/term-list.html">Terms and Definitions</a>
    </li>
  </ul>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Improving your workflow through projects</h1>
            <h3 data-toc-skip class="subtitle">ENVS475: Experimental
Analysis and Design</h3>
            
            <h4 data-toc-skip class="date">November, 2024</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Jpomz/ENVS475/blob/HEAD/vignettes/articles/lab_01_projects.Rmd" class="external-link"><code>vignettes/articles/lab_01_projects.Rmd</code></a></small>
      <div class="hidden name"><code>lab_01_projects.Rmd</code></div>

    </div>

    
    
<div class="section level3">
<h3 id="the-following-is-mostly-provided-for-self-guided-students-">The following is mostly provided for self-guided students.<a class="anchor" aria-label="anchor" href="#the-following-is-mostly-provided-for-self-guided-students-"></a>
</h3>
</div>
<div class="section level3">
<h3 id="students-that-are-enrolled-in-the-course-and-were-present-in-the-class-period-do-not-need-to-read-this-in-detail-">Students that are enrolled in the course and were present in the
class period do not need to read this in detail.<a class="anchor" aria-label="anchor" href="#students-that-are-enrolled-in-the-course-and-were-present-in-the-class-period-do-not-need-to-read-this-in-detail-"></a>
</h3>
<p>Everything that follows in this tutorial should be a viewed as
<em>suggestions</em> for how to organize your data, code, and results.
These suggestions are based on hard-won lessons from my own work as well
as advice from people who spend a lot of time thinking about efficient
and reproducible workflows. The lessons below are unabashedly R/RStudio
focused. However, they are just suggestions. There are many other ways
of accomplishing these objectives so you are free to use whatever
workflow works best for you. Even if you choose to use different
workflows or tools that are not as R-focused, hopefully the concepts
presented here will help make your process more efficient and
organized.</p>
<p><strong>One exception:</strong> Everything here is a suggestion
<em>EXCEPT</em> for creating a folder in your project called “data”.
This is required. For future homework assignments, you will have to load
data objects into R. In order for your code to work on my computer, your
folder structure must match mine. In other words, if you don’t have a
folder called “data”, or if you name it something differently or have it
in another sub folder, I won’t be able to correctly run/grade your
homework script and you will then receive a zero on that assignment.
Please help us avoid this by making a folder claled “data”. THANKS!</p>
</div>
<div class="section level2">
<h2 id="common-workflows-and-their-problems">Common workflows and their problems<a class="anchor" aria-label="anchor" href="#common-workflows-and-their-problems"></a>
</h2>
<p>A common workflow used by many novice R users goes something like
this:</p>
<ol style="list-style-type: decimal">
<li><p>Open base R or maybe RStudio</p></li>
<li><p>Create a script and save it as
<code>analysis_for_my_project.R</code></p></li>
<li><p>Start the script with:</p></li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:\Users\pomeranz\path</span><span class="sc">\t</span><span class="st">hat\only\I\have"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(package1)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">library</span>(package2)</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Create a bunch of objects and do stuff to them:</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="st">"blah"</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li><p>Realize you need to be working on your dissertation instead of
this side project so open another script you started earlier</p></li>
<li><p>Get confused about what objects in your current environment were
created by which script</p></li>
<li><p><code>rm(list = ls())</code> to start from scratch</p></li>
<li><p>Rinse and repeat</p></li>
</ol>
<div class="section level3">
<h3 id="whats-wrong-with-this">What’s wrong with this?<a class="anchor" aria-label="anchor" href="#whats-wrong-with-this"></a>
</h3>
<p>Remember that when you open <code>R</code> (or RStudio), you create a
<em>global workspace</em>. This is where all of the objects you create
get stored. If you type <code><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls()</a></code> you can see everything that is
currently stored in your workspace. If you are working on different
analyses in the same global environment, it is <em>very</em> easy to
accidentally create different objects with the same name, write code
that depends on other code that happens to have been run previously
during one R session (for example, you loaded a needed package in one
script so didn’t add <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library(package)</a></code> to your next script.
What happens when you try to run this code the next time? This often
called a “hidden dependency” and can make your life very pretty
miserable), and many other confusing behaviors.</p>
<p>This workflow also makes it very difficult to share your work.
Remember that <code>R</code> will default to looking in/saving to the
current working directory. To control this behavior, most people are
taught to use <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd()</a></code>. The problem with this is that the
path you set using <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd()</a></code> is almost certainty specific to
the computer your used to write that code. If you use a different
computer later or send code to your adviser for help, they will not be
able to run it without changing the working directory. If you move the
files to a new place on your computer, all of your code will break. Got
a new computer? Oops, none of your code will work anymore. If you are
running multiple analyses in the same <code>R</code> session, you’ll
also have to constantly change your working directory, which eventually
will lead to confusion and problems rerunning code. Manually setting the
working directory seems like a minor annoyance but if you have to do it
constantly (for example, an instructor who has to grade a bunch of
homework assignments), these minor annoyances add up to a big
headache.</p>
<p>The good news is, there’s an easy solution that will make your life
much easier.</p>
</div>
</div>
<div class="section level2">
<h2 id="rstudio-projects">RStudio Projects<a class="anchor" aria-label="anchor" href="#rstudio-projects"></a>
</h2>
<p>Experienced programmers learned long ago the problems outlined above.
To solve these problems, they typically use a self-contained directory
(i.e., folder) for each project. Each directory contains all of the data
and code needed to create research output for that project. Notably, the
code should not reference <em>any</em> data or objects that are found in
another directory. This helps ensure portability - you can move the
entire project and still be able to rerun all code.</p>
<p>RStudio makes is very easy to create Projects.For this class I
<strong>highly</strong> recommend that you create a single, dedicated
Rstudio Project for this class which will contain all the code, labs,
homework, data objects, etc. If you use R in future courses, for
research projects, in grad school, in your job, etc., start off the
right way and make a separate Rstudio Project for each project that you
are working on. There are several ways to creat an R Project, but the
easiest way is to:</p>
<ol style="list-style-type: decimal">
<li><p>Open RStudio</p></li>
<li><p>Click on <code>File -&gt; New Project</code> then click
<code>New Directory</code> (if you already have a folder associated with
the project, you can click <code>Existing Directory</code> and then
navigate to that folder)</p></li>
<li><p>Click <code>New Project</code> then choose a name and a location
for the Project (tip - don’t include spaces in the project name). Git
and GitHub are beyond the scope of this class, so for now we will not
worry about creating a git repository. However, I
<strong>strongly</strong> recommend you take the time to learn about git
and use it in your future endeavors, especially if you will be going to
grad school and publishing scientific articles.</p></li>
<li><p>Click <code>Create Project</code> at the bottom. RStudio will
create a new directory with the same name as your Project and a file
called <code>project_name.Rproj</code> inside of that
directory.</p></li>
</ol>
<p>A new RStudio window should open when you create the new project. In
the future, when you want to work on this Project, just double click the
<code>project_name.Rproj</code> file and it will open a new instance of
RStudio.</p>
<div class="section level3">
<h3 id="whats-so-special-about-rstudio-projects">What’s so special about RStudio Projects?<a class="anchor" aria-label="anchor" href="#whats-so-special-about-rstudio-projects"></a>
</h3>
<p>Projects solve two of the big problems we discussed earlier. First,
each project opens a fresh instance of R so the global environment of
projects is self-contained. That means you can you have multiple
projects open at once but each one will behave independently. This means
no more <code>rm(list = ls())</code> because the only objects in your
environment should be the ones associated with that project (this
doesn’t totally resolve the problem of hidden dependencies but we’ll
talk more about that below).</p>
<p>Second, RStudio will automatically set the working directory to the
root directory associated with the Project. This means that whatever
folder the <code>.Rproj</code> file is in will automatically be set as
the working directory when you open the project. You can check this by
typing <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd()</a></code> in the console of your new project. This
setting avoids the need to use <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd()</a></code> which makes your
code much more portable. You can move or send the entire directory,
double-click the <code>.Rproj</code> file and pick up right where you
left off.</p>
</div>
<div class="section level3">
<h3 id="a-note-on-saving-your-workspace-to--rdata">A note on saving your workspace to <code>.RData</code><a class="anchor" aria-label="anchor" href="#a-note-on-saving-your-workspace-to--rdata"></a>
</h3>
<blockquote>
<p>The note is: <strong>DO NOT DO IT</strong></p>
</blockquote>
<p>Another common mistake made by many novice (and not so novice)
<code>R</code> users is to save your current workspace to
<code>.RData</code> each time you quit <code>R</code> or RStudio. On the
surface, this seems like a really convenient shortcut. The next time you
open <code>R</code>, all of the objects you created previously are right
there waiting for you to keep going!</p>
<p>The problem is that, again, this creates hidden dependencies. The
<code>.RData</code> file does not re-load packages that you were using
in your previous session. It does not re-set options that you may have
set in your previous session (<code>theme_set()</code>,
<code>stringsAsFactors = FALSE</code>). Some objects needed for, e.g.,
making a figure may be loaded but others may not be. This means that
even if you saved your workspace, you will still end up needing to
re-run some chunks of code to get back to where you left off previously.
Which chunks? Who knows. You probably think you’ll remember but you
won’t.</p>
<p>A better workflow is to start every <code>R</code> session with an
empty workspace. This means you go into each session with the mindset
that you will need to re-run all code from scratch every time. Although
this seems like a pain, I promise it will make your life easier. It is a
way of <em>ensuring</em> that at a minimum, you can reproduce all of
your analyses anytime you need to.</p>
<p>In RStudio, you can enforce this workflow by going to
<code>RStudio -&gt; Preferences</code> and then in the
<code>General</code> tab setting
<code>Save workspace to .Rdata on exit</code> to <code>Never</code>.
<strong>Do it</strong>. Trust me.</p>
<p>What about re-running code that is very time consuming? Do you really
need to re-run the code the cleans your raw data every time you need to
reanalyze it? Of course not. A better workflow is to have one script
which cleans your raw data and saves it as an object. Then, you can
start a second script which starts with the cleaned data object and
continues the analysis You can always save those objects (along with the
scripts you used to create them!) so that the next time you need them,
they can just be re-read into <code>R</code> and you can do everything
downstream of those steps without a problem.</p>
<p>For example, multiple scripts in a workflow might look like this
(remember that a filename with the <code>.R</code> extension is an R
script): <code>01_clean_raw_data.R</code>,
<code>02_exploratory_figures.R</code>,
<code>03_statistical_analysis.R</code>,
<code>04_manuscript_figs.R</code>,
<code>05_supplemental_info.R</code>.</p>
<p>One of the benefits of this workflow is that it treats your raw data
and code as the only <em>real</em> objects in your workflow. These
should be the only objects that if you lose them, you would be in big
trouble (you’re computer is backed up, right? I reiterate my
recommendation on learning git for your future endeavors!). Cleaned data
that you created from your raw data isn’t real. You can just re-run the
code and create those objects again (this is why we use <code>R</code>
scripts instead of manipulating raw data in excel. See below for more
details). Your workspace isn’t real - as we just discussed, it can (and
should) disappear at any time. Results and figures are not real because
you can re-create them from the code whenever you need to. Once you get
into this mindset of treating raw data and code as the only real
objects, your workflow will automatically become more organized and
reproducible. (Manuscripts are also real so save them and back them
up!)</p>
</div>
</div>
<div class="section level2">
<h2 id="organizing-your-project-directories">Organizing your project directories<a class="anchor" aria-label="anchor" href="#organizing-your-project-directories"></a>
</h2>
<p>As we already saw, the <code>.Rproj</code> file treats the directory
that it is in as the working directory for that project. This means that
you can read files from this location and write files to this location
without changing any settings. For example, you can stick a file called
<code>data.csv</code> in this directory and the following code will
work:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"data.csv"</span><span class="op">)</span></span></code></pre></div>
<p>A natural instinct for those of us that are inclined to be less-than
organized might be to put all of our files associated the project in
this directory:</p>
<pre><code>my_proj/
|─── data.csv
|─── script_that_does_everything.R
|─── test_script_that_does_something_else.R
|─── Figure1.png
|─── manuscript_v1.doc
|─── manuscript_v2.doc
.
.
.
|─── manuscript_final_v2-4.doc</code></pre>
<p>There is nothing inherently wrong with this but for most projects,
you will end up with a very big directory that is hard to navigate when
you need to find specific files. A better idea is to put files in
intuitive subdirectories. You can pick whatever structure makes most
sense to you, but I generally use something like:</p>
<pre><code>my_proj/
|─── data-raw/
      |─── data.csv
|─── data/
      |─── clean_data.rds
|─── figs/
      |─── fig1.png
      |─── fig2.png
|─── doc/
      |─── manuscript.Rmd
|─── output/
      |─── model_results.rds
|─── scripts/
      |─── custom_functions.R
      |─── data_cleaning.R
      |─── analysis.R
      |─── figures.R</code></pre>
<ul>
<li><p><code>data-raw/</code> contains my, you guessed it, raw data
files.</p></li>
<li>
<p><code>data/</code> contains the cleaned data files that are ready
to go straight into the analysis</p>
<ul>
<li>the cleaned data was created with the <code>data_cleaning.R</code>
file found in the <code>scripts/</code> folder.</li>
</ul>
</li>
<li>
<p><code>figs/</code> contains figure files</p>
<ul>
<li>script to makes these figures is also in the <code>scripts/</code>
folder.</li>
</ul>
</li>
<li><p><code>doc/</code> contains files for reports or manuscripts
related to the projects</p></li>
<li><p><code>output/</code> includes output from the analysis, for
example results from fitting a model</p></li>
<li><p><code>scripts/</code> contains R scripts used to clean the data,
analyze data, make figures, etc. These could be put in the subdirectory
related to the function of the script if that makes more sense to you.
Or you can lump all of the different scripts into a single script if you
prefer. That’s up to you.</p></li>
</ul>
<div class="section level3">
<h3 id="readingwriting-from-subdirectories">Reading/writing from subdirectories<a class="anchor" aria-label="anchor" href="#readingwriting-from-subdirectories"></a>
</h3>
<p>Because RStudio treats the project root directory as the working
directory, you could not do the following if, for example, your data is
stored in a <code>data-raw/</code> subdirectory:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"data.csv"</span><span class="op">)</span></span></code></pre></div>
<p>Instead, you need to use relative paths. Remember that everything is
relative to your working directory:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"data-raw/data.csv"</span><span class="op">)</span></span></code></pre></div>
<p>If you prefer, you can have as many layers of subdirectories as you
want. The important thing is that as long as you move the entire project
directory, these relative paths will still work.</p>
</div>
<div class="section level3">
<h3 id="a-suggested-structure-for-this-class">A suggested structure for this class<a class="anchor" aria-label="anchor" href="#a-suggested-structure-for-this-class"></a>
</h3>
<pre><code>ENVS_475/
  |─── data/
        |─── acid_mine_hw6.csv
        |─── clear_cut_2_hw8.rds
        |─── uhuru_acacia_lab2.txt
  |─── scripts/
        |─── lab1_intro_R.R
        |─── lab2_ggplot.R
  |─── homework/
        |─── Justin_Pomeranz_HW1.R
        |─── Justin_Pomeranz_HW2.R
  |─── other-resources/
        |─── cheat-sheets/
              |─── data-transformation.pdf
              |─── data-visualization.pdf</code></pre>
<ul>
<li>
<p><code>data/</code> contains data files provided by me in class to
complete labs and/or homework</p>
<ul>
<li>We will also be using many of the datasets built directly into
<code>R</code>.</li>
</ul>
</li>
<li><p><code>scripts/</code> contains <code>R</code> scripts created
during class and in labs.</p></li>
<li>
<p><code>homework/</code> contains scripts (<code>.R</code>) files
associated with each homework.</p>
<ul>
<li>may also include subdirectories with Rmarkdown (<code>.Rmd</code>)
and <code>.html</code> files in the second half of the class (we will
return to this later, if needed)</li>
</ul>
</li>
<li><p><code>other-resources/</code> contains anything else you might
find useful in class. I recommend having a <code>cheat-sheets/</code>
sub folder here where you can download all available ones from
Rstudio.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="a-note-on-handling-raw-data">A note on handling raw data<a class="anchor" aria-label="anchor" href="#a-note-on-handling-raw-data"></a>
</h3>
<p>Raw data is sacred. If you purposely or accidentally change your raw
data, everything that comes downstream (analysis, results, reports) will
also change. To maintain the integrity of your work, get in the habit of
<strong>never</strong> making changes to your raw data files after you
have entered the data.</p>
<p>One of the great things about using scripts to manipulate your data
is that you can leave your raw data untouched and have a paper trail of
every change you made to prepare your data for analysis. That means
adding new variables that are composites of the raw data (e.g.,
<code>temp_c &lt;- (temp_f -32)*(5/9)</code>), removing outliers,
joining different data sets together, whatever. <strong>All of this is
done in R after you’ve read in the raw data rather than in
Excel!</strong></p>
<p>Just as important, you don’t save these new data objects over the raw
data or even in the same directory. Those files go in
<code>data/</code>. This means you can only read from the
<code>data-raw/</code> and you cannot write to it. <code>R</code> will,
of course, allow you to write to <code>data-raw/</code>, this is just a
suggestion to help you maintain a firewall that will keep you raw data
in it’s raw form.</p>
</div>
</div>
<div class="section level2">
<h2 id="additional-resources">Additional resources<a class="anchor" aria-label="anchor" href="#additional-resources"></a>
</h2>
<p><a href="https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects" class="external-link">RStudio
Project webpage</a></p>
<p><a href="https://r4ds.had.co.nz/workflow-projects.html" class="external-link">R for Data
Science Workflow: Project</a> <a href="https://r4ds.had.co.nz/explore-intro.html" class="external-link">see also other chapters
in the “Explore” section of the book</a></p>
<p><a href="https://nicercode.github.io/blog/2013-04-05-projects/" class="external-link">Nice
R Code</a></p>
<p><a href="https://www.tidyverse.org/articles/2017/12/workflow-vs-script/" class="external-link">Jenny
Bryan’s 🔥 take on <code>setwd()</code> and
<code>rm(list=ls())</code></a></p>
<p><a href="http://stat545.com/block002_hello-r-workspace-wd-project.html#workspace-and-working-directory" class="external-link">STAT545’s
tutorial on workspaces and projects</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Justin Pomeranz.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
