<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lab 04b: Graphing using ggplot • ENVS475</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Lab 04b: Graphing using ggplot">
<meta property="og:description" content="ENVS475">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ENVS475</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2024.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/syllabus.html">
    <span class="fa fa-book"></span>
     
    Syllabus
  </a>
</li>
<li>
  <a href="../articles/schedule.html">
    <span class="fa fa-calendar"></span>
     
    Schedule
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-desktop"></span>
     
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/lectures/lecture_01/lecture_01.html">Lecture 01: Course introduction</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_03_basic-stats/lecture_03_basic-stats.html">Lecture 03: Basic Statistics</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_05_estimation/lecture_05_estimation.html">Lecture 05: Point Estimates</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_06_intro-models/lecture_06_intro-models.html">Lecture 06: Intro to Models</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_07_t-tests/lecture_07_t-tests.html">Lecture 07: t-tests</a>
    </li>
    <li>
      <a href="../articles/lectures/lecture_10_anova/lecture_10_anova.html">Lecture 10: ANOVA</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-laptop-code"></span>
     
    Labs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/lab_01_projects.html">lab 01: projects</a>
    </li>
    <li>
      <a href="../articles/lab_02_intro_to_R.html">lab 02: Intro to R</a>
    </li>
    <li>
      <a href="../articles/lab_03_normal-distributions.html">lab 03: Normal Distributions</a>
    </li>
    <li>
      <a href="../articles/lab_04a_dplyr.html">lab 04a: dplyr</a>
    </li>
    <li>
      <a href="../articles/lab_04b_ggplot.html">lab 04b: ggplot</a>
    </li>
    <li>
      <a href="../articles/lab_05_point-estimates.html">lab 05: point estimates</a>
    </li>
    <li>
      <a href="../articles/lab_06_linear-models.html">lab 06: linear models</a>
    </li>
    <li>
      <a href="../articles/lab_08_t-tests.html">lab 07: t-tests</a>
    </li>
    <li>
      <a href="../articles/lab_07_intro_markdown.html">lab 09: intro to R markdown</a>
    </li>
    <li>
      <a href="../articles/lab_10_anova.html">lab 10: ANOVA</a>
    </li>
    <li>
      <a href="../articles/lab_11_factorial-anova.html">lab 11: Factorial ANOVA</a>
    </li>
    <li>
      <a href="../articles/lab_12_2-way-anova.html">lab 12: 2-way anova</a>
    </li>
    <li>
      <a href="../articles/lab_13_linear-regression.html">lab 13: Linear Regression</a>
    </li>
    <li>
      <a href="../articles/lab_14_ANCOVA.html">lab 14: ANCOVA</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-folder-open"></span>
     
    Homework
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/homework/HW_01.html">Homework 01 setup</a>
    </li>
    <li>
      <a href="../articles/homework/HW_02_intro_R.html">Homework 02 Intro to R</a>
    </li>
    <li>
      <a href="../articles/homework/HW_03_normal-distributions.html">Homework 03 Normal Distributions</a>
    </li>
    <li>
      <a href="../articles/homework/HW_04_dplyr_ggplot.html">Homework 04 dplyr + ggplot2</a>
    </li>
    <li>
      <a href="../articles/homework/HW_05_point-estimates.html">Homework 05 Point Estimates</a>
    </li>
    <li>
      <a href="../articles/homework/HW_06_linear_models.html">Homework 06 Intro to Linear Models</a>
    </li>
    <li>
      <a href="../articles/homework/HW_07_t-tests.html">Homework 07 t-tests</a>
    </li>
    <li>
      <a href="../articles/homework/HW_09_markdown.html">Homework 09 R Markdown</a>
    </li>
    <li>
      <a href="../articles/homework/HW_10_ANOVA.html">Homework 10 ANOVA</a>
    </li>
    <li>
      <a href="../articles/homework/HW_11_factorial.html">Homework 11 Factorial ANOVA</a>
    </li>
    <li>
      <a href="../articles/homework/HW_12_two-way-ANOVA.html">Homework 12 2-way ANOVA</a>
    </li>
    <li>
      <a href="../articles/homework/HW_13_linear-regression.html">Homework 13 Linear Regression</a>
    </li>
    <li>
      <a href="../articles/homework/HW_14_ANCOVA.html">Homework 14 ANCOVA</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-pencil-square-o"></span>
     
    References
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/term-list.html">Terms and Definitions</a>
    </li>
  </ul>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Lab 04b: Graphing using ggplot</h1>
            <h3 data-toc-skip class="subtitle">ENVS475: Experimental
Analysis and Design</h3>
            
            <h4 data-toc-skip class="date">January, 2024</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Jpomz/ENVS475/blob/HEAD/vignettes/articles/lab_04b_ggplot.Rmd" class="external-link"><code>vignettes/articles/lab_04b_ggplot.Rmd</code></a></small>
      <div class="hidden name"><code>lab_04b_ggplot.Rmd</code></div>

    </div>

    
    
<div class="section level3">
<h3 id="about">About<a class="anchor" aria-label="anchor" href="#about"></a>
</h3>
<p>This lab will introduce you to the <code>ggplot2</code> package in R.
This is a powerful and flexible package which is capable of producing
publication quality graphics.</p>
<div class="section level4">
<h4 id="preliminaries">Preliminaries<a class="anchor" aria-label="anchor" href="#preliminaries"></a>
</h4>
<p>Before we begin, make sure to download the data from D2L. The data we
are using in this lab is a small simulated data set called
<code>ggplot_lab_invert_survey.csv</code>. You will also need to
download <code>galapago-finches.csv</code> for the homework assignment.
Make sure to place both of these files in the <code>data/</code> folder
in your R Project, otherwise you will need to modify the code below to
have it run correctly.</p>
<ul>
<li><p><code>ggplot2</code> is a part of the <code>tidyverse</code> and
was included when you previously ran
<code>install.packages("tidyverse")</code></p></li>
<li><p>Remember you only need to install packages on each machine
once.</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h3>
<ul>
<li>So far we’ve been mostly working with data sets that are built into
R, or making our own small data sets within our scripts.</li>
<li>Now we will need to read in the data sets into R.</li>
<li>But first, take a look at the
<code>ggplot_lab_invert_survey.csv</code> data set by opening them.</li>
<li><ul>
<li>
<em>Right-Click on invert.csv in your file explorer program to Open
With Notepad or text editor</em><br>
</li>
</ul></li>
<li>This data is comma separated, which is the default type in the
<code><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv()</a></code> function. <code><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv()</a></code> is a part of
the <code>tidyverse</code> and is the the main function that we will
throughout this course.
<ul>
<li>There is also a <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv()</a></code> function that comes with the
base installation of R. It behaves very similarly but is slightly less
“smart” than <code><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv()</a></code>.</li>
</ul>
</li>
<li>We’ll call our data frame <code>invert</code> and assign it the
output from <code><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv()</a></code>
</li>
<li>We still to supply the file name in quotes as the first
argument<br>
</li>
<li>to tell R that it’s located in the <code>data/</code> folder, we add
this to the beginning of the filename</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">invert</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"data/ggplot_lab_invert_survey.csv"</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>
<strong>Did everyone successfully load the data into R?</strong>
<ul>
<li>Are you in your R-project?<br>
</li>
<li>Do you have a <code>data/</code> folder?<br>
</li>
<li>Is your <code>ggplot_lab_invert_survey.csv</code> in the
<code>data/</code> folder?</li>
</ul>
</li>
</ul>
<p>Whenever you load a dataset into R, it is always a good idea to take
a look at it to familiarize yourself with the structure. Run the
following lines of code in RStudio one by one (I have removed the output
to save space here):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">invert</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "month"          "taxa"           "body_length_mm" "body_mass_g"</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">invert</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">##   month taxa   body_length_mm body_mass_g</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>     3 beetle           26.9       17.4 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>     7 beetle           32.1       11.3 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>    11 beetle           21.4        4.40</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span>     3 beetle           25.0       26.2 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span>     7 beetle           17.7       12.6 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span>    11 beetle           31.9       15.2</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">invert</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">##   month taxa   body_length_mm body_mass_g</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>     3 spider           23.2       15.2 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>     7 spider           20.2        2.02</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>    11 spider           25.3       16.0 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span>     3 spider           27.4        9.77</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span>     7 spider           25.4       12.6 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span>    11 spider           26.5       11.9</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">invert</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## spc_tbl_ [30 × 4] (S3: spec_tbl_df/tbl_df/tbl/data.frame)</span></span>
<span><span class="co">##  $ month         : num [1:30] 3 7 11 3 7 11 3 7 11 3 ...</span></span>
<span><span class="co">##  $ taxa          : chr [1:30] "beetle" "beetle" "beetle" "beetle" ...</span></span>
<span><span class="co">##  $ body_length_mm: num [1:30] 26.9 32.1 21.4 25 17.7 ...</span></span>
<span><span class="co">##  $ body_mass_g   : num [1:30] 17.4 11.3 4.4 26.2 12.6 ...</span></span>
<span><span class="co">##  - attr(*, "spec")=</span></span>
<span><span class="co">##   .. cols(</span></span>
<span><span class="co">##   ..   month = <span style="color: #00BB00;">col_double()</span>,</span></span>
<span><span class="co">##   ..   taxa = <span style="color: #BB0000;">col_character()</span>,</span></span>
<span><span class="co">##   ..   body_length_mm = <span style="color: #00BB00;">col_double()</span>,</span></span>
<span><span class="co">##   ..   body_mass_g = <span style="color: #00BB00;">col_double()</span></span></span>
<span><span class="co">##   .. )</span></span>
<span><span class="co">##  - attr(*, "problems")=&lt;externalptr&gt;</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">invert</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##      month        taxa           body_length_mm   body_mass_g    </span></span>
<span><span class="co">##  Min.   : 3   Length:30          Min.   :11.01   Min.   : 2.020  </span></span>
<span><span class="co">##  1st Qu.: 3   Class :character   1st Qu.:20.89   1st Qu.: 6.397  </span></span>
<span><span class="co">##  Median : 7   Mode  :character   Median :26.02   Median :11.931  </span></span>
<span><span class="co">##  Mean   : 7                      Mean   :25.00   Mean   :11.671  </span></span>
<span><span class="co">##  3rd Qu.:11                      3rd Qu.:28.35   3rd Qu.:15.630  </span></span>
<span><span class="co">##  Max.   :11                      Max.   :33.83   Max.   :26.195</span></span></code></pre>
<ul>
<li><p>You can see the entire <code>invert</code> object by running the
following command:<br><code>View(invert)</code></p></li>
<li>
<p>we can see that it includes information on:</p>
<ul>
<li>the month (as a number) of the sampling month<br>
</li>
<li>the taxa (either <code>beetle</code> or <code>spider</code>) as a
character vector</li>
<li>the body length (in millimeters) of each individual<br>
</li>
<li>and the body mass (in grams) of each individual</li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="ggplot2">
<code>ggplot2</code><a class="anchor" aria-label="anchor" href="#ggplot2"></a>
</h2>
<ul>
<li><p>Very popular plotting package</p></li>
<li><p>Makes publication quality plots quickly</p></li>
<li><p>Declarative - describe what you want not how to build it</p></li>
<li><p>Contrasts w/Imperative - how to build it step by step</p></li>
</ul>
<div class="section level3">
<h3 id="basics">Basics<a class="anchor" aria-label="anchor" href="#basics"></a>
</h3>
<div class="section level4">
<h4 id="ggplot-basic-syntax">
<code>ggplot</code> basic syntax<a class="anchor" aria-label="anchor" href="#ggplot-basic-syntax"></a>
</h4>
<p><span class="math display">\[\underbrace{ggplot}_{initiate\;
plot}(\underbrace{data = df}_{data\;frame},\; \underbrace{aes(x =\; , y
= \;, color = \;)}_{plot\; attributes}) +
\underbrace{geom\_line()}_{geometry}\]</span> * To build a plot using
<code>ggplot</code> we start with the <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot()</a></code> function</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<ul>
<li>
<p><code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot()</a></code> creates a base ggplot object that we can
then add things to</p>
<ul>
<li>Think of it as a blank canvas</li>
</ul>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="plot-attributes-mapping-and-aes">Plot attributes, mapping and <code>aes()</code><a class="anchor" aria-label="anchor" href="#plot-attributes-mapping-and-aes"></a>
</h4>
<ul>
<li>We can also add optional arguments for information to be shared
across different components of the plot</li>
<li>The two main arguments we typically use here are</li>
<li>
<code>data</code> - which is the name of the data frame we are
working with, so <code>invert</code>
</li>
<li>
<code>mapping</code> - which describes which columns of the data are
used for different aspects of the plot</li>
<li>We create a <code>mapping</code> by using the <code>aes</code>
function, which stands for “aesthetic”, and then linking columns to
pieces of the plot</li>
<li>We’ll start with telling ggplot what value should be on the x and y
axes</li>
<li>Let’s plot the relationship between the <code>body_length_mm</code>
of invertebrates to their <code>body_mass_g</code><br>
</li>
<li>note that I start a new line after each <code>,</code> and that
Rstudio automatically indents for us. This improves readability and
makes it easier to look for typos.</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_length_mm</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<ul>
<li>Notice we now have “CIRC” on the x-axis and “HEIGHT” on the
y-axis</li>
<li>This still doesn’t create a figure, it’s just a blank canvas and
some information on the default values for the data and mapping columns
to axes of the plots</li>
</ul>
</div>
<div class="section level4">
<h4 id="plot-layers">Plot Layers<a class="anchor" aria-label="anchor" href="#plot-layers"></a>
</h4>
<ul>
<li><p>We can add data to the plot using layers</p></li>
<li><p>We do this by adding a <code>+</code> after the the
<code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot()</a></code> function and then adding something called a
<code>geom</code>, which stands for <code>geometry</code></p></li>
<li><p>To make a scatter plot we use <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point()</a></code></p></li>
</ul>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_length_mm</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<ul>
<li><p>It is standard to hit <code>Enter</code> after the plus so that
each layer shows up on its own line</p></li>
<li><p>To change things about the layer we can pass additional arguments
to the <code>geom</code></p></li>
<li>
<p>We can do things like change</p>
<ul>
<li><p>the <code>size</code> of the points, we’ll set it to
<code>3</code></p></li>
<li><p>the <code>color</code> of the points, we’ll set it to
<code>"blue"</code></p></li>
<li><p>the transparency of the points, which is called
<code>alpha</code>, we’ll set it to 0.5</p></li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_length_mm</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">3</span>, color <span class="op">=</span> <span class="st">"blue"</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<ul>
<li>To add labels (like documentation for your graphs!) we use the
<code>labs</code> function</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_length_mm</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">3</span>, color <span class="op">=</span> <span class="st">"blue"</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Body length [mm]"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Body mass [g]"</span>,</span>
<span>       title <span class="op">=</span> <span class="st">"Simulated ground-dwelling invertebrate survey"</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="one-continuous-variable">One Continuous Variable<a class="anchor" aria-label="anchor" href="#one-continuous-variable"></a>
</h2>
<p>Throughout the semester, we will want to see the distribution of one
continuous variable. The two main ways we will do that is through:</p>
<ol style="list-style-type: decimal">
<li><p>Histograms</p></li>
<li><p>Boxplots</p></li>
</ol>
<div class="section level3">
<h3 id="histograms">Histograms<a class="anchor" aria-label="anchor" href="#histograms"></a>
</h3>
<ul>
<li><p>We can make a histogram of <code>body_mass_g</code> by modifying
our earlier code.</p></li>
<li><p>Note only <strong>one</strong> variable, so we remove the
<code>y=...</code> part.</p></li>
<li><p>We also change <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point()</a></code> to
<code>geom_histogram</code></p></li>
</ul>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></span></code></pre>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<ul>
<li>
<p><code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram()</a></code> groups observations into bins</p>
<ul>
<li>i.e., all the numbers between 10-12 g</li>
</ul>
</li>
<li><p>automatically picks bin numbers based on data (graph above used
30 bins, see message output), but we can modify this using the
<code>bins</code> argument</p></li>
</ul>
<div class="section level4">
<h4 id="bins">5 bins<a class="anchor" aria-label="anchor" href="#bins"></a>
</h4>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<ul>
<li>see that there are now 5 bins, but the “edges” of the bins are
unclear</li>
</ul>
</div>
<div class="section level4">
<h4 id="binwidth">Binwidth<a class="anchor" aria-label="anchor" href="#binwidth"></a>
</h4>
<ul>
<li><p>We can set the size of the bins with <code>binwidth</code>
argument</p></li>
<li><p>for example, let’s say we want bins that are 2.5 g
across</p></li>
</ul>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">2.5</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="histogram-attributes">Histogram attributes<a class="anchor" aria-label="anchor" href="#histogram-attributes"></a>
</h4>
<ul>
<li>
<p>We can change the attributes of the histogram output in similar
ways as above</p>
<ul>
<li><p>Common arguments are: <code>fill</code>, <code>color</code>
(outline), <code>size</code> (outline), and <code>alpha</code>
(transparency).</p></li>
<li><p>You can also explore different “themes”. Below is
<code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw()</a></code>, but you can try <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic()</a></code>,
<code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_dark()</a></code>, <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void()</a></code>, etc.</p></li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">2.5</span>,</span>
<span>                 fill <span class="op">=</span> <span class="st">"dodgerblue"</span>,</span>
<span>                 color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>                 size <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                 alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Please use `linewidth` instead.</span></span>
<span><span class="co">## <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">## <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span></span>
<span><span class="co">## <span style="color: #555555;">generated.</span></span></span></code></pre>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
</div>
</div>
<div class="section level3">
<h3 id="boxplots">Boxplots<a class="anchor" aria-label="anchor" href="#boxplots"></a>
</h3>
<ul>
<li><p>Boxplots summarize the data distribution</p></li>
<li><p>AKA “Cat and Whisker” Plots</p></li>
</ul>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-13-1.png" width="700">
* whiskers: show minimum (left side) and maximum (right side) of
data</p>
<ul>
<li><p>Box: shows where 50% of the data lies</p></li>
<li><p>Line in middle of box is the median</p></li>
<li>
<p>Useful to loo for normal distributions:</p>
<ul>
<li>Symmetry of box, whiskers, etc.</li>
</ul>
</li>
</ul>
<div class="section level4">
<h4 id="boxplot-attributes">Boxplot attributes<a class="anchor" aria-label="anchor" href="#boxplot-attributes"></a>
</h4>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"red"</span>,</span>
<span>               color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
</div>
</div>
<div class="section level3">
<h3 id="density-plots">Density Plots<a class="anchor" aria-label="anchor" href="#density-plots"></a>
</h3>
<ul>
<li><p>Density plots show the full distribution</p></li>
<li><p>i.e., a histogram has discrete bins, but a density plot is
continuous</p></li>
</ul>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html" class="external-link">geom_density</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"pink"</span>,</span>
<span>               alpha <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_dark</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-15-1.png" width="700"></p>
<p><strong>You should now be able to complete problem 01 in the homework
assignment</strong></p>
</div>
</div>
<div class="section level2">
<h2 id="one-continuous-variable-and-categories">One Continuous Variable, and Categories<a class="anchor" aria-label="anchor" href="#one-continuous-variable-and-categories"></a>
</h2>
<div class="section level3">
<h3 id="boxplots-1">Boxplots<a class="anchor" aria-label="anchor" href="#boxplots-1"></a>
</h3>
<p>We will often want to compare the distributions between two groups.
We can do this by modifying our boxplot code above by adding a grouping
variable as our <code>y = ...</code> in the <code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes()</a></code>
function</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-16-1.png" width="700"></p>
<ul>
<li>we can also vary the color/fill by taxa by including it in the
<code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes()</a></code> function</li>
</ul>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">taxa</span>,</span>
<span>                     fill <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-17-1.png" width="700"></p>
<ul>
<li>ggplot automatically picked two colors for us based on the values in
the <code>taxa</code> column</li>
</ul>
<div class="section level4">
<h4 id="change-fill-colors">Change fill colors<a class="anchor" aria-label="anchor" href="#change-fill-colors"></a>
</h4>
</div>
<div class="section level4">
<h4 id="manually">Manually<a class="anchor" aria-label="anchor" href="#manually"></a>
</h4>
<p>See a <a href="https://derekogle.com/NCGraphing/resources/colors" class="external-link">list of
colors</a> available in ggplot</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">taxa</span>,</span>
<span>                     fill <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dodgerblue"</span>, <span class="st">"hotpink"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-18-1.png" width="700"></p>
<ul>
<li>note that this <strong>does not</strong> work if you put it in the
<code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot()</a></code> argument:</li>
</ul>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>Likewise, if you put a fill/color argument in the
<code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot()</a></code> function, it will overwrite what you mapped
above</li>
</ul>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">taxa</span>,</span>
<span>                     fill <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-20-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="categorical-vs--continuous-variables">Categorical vs. continuous variables<a class="anchor" aria-label="anchor" href="#categorical-vs--continuous-variables"></a>
</h4>
<ul>
<li><p>Our data has the results of three surveys across months</p></li>
<li><p>we may want to see if there are different distributions across
months</p></li>
</ul>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     fill <span class="op">=</span> <span class="va">month</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: The following aesthetics were dropped during statistical transformation: <span style="color: #00BB00;">fill</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> This can happen when ggplot fails to infer the correct grouping structure in</span></span>
<span><span class="co">##   the data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Did you forget to specify a `group` aesthetic or to convert a numerical</span></span>
<span><span class="co">##   variable into a factor?</span></span></code></pre>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-21-1.png" width="700"></p>
<ul>
<li><p>this didn’t work because <code>month</code> is a number, which R
interprets as a continuous variable.</p></li>
<li><p>notice the warning discusses “group” structure of the
data</p></li>
<li><p>we can get around this a number of ways.</p></li>
<li><p>the easiest at this point is to force month to be a
<code>factor</code> (what R calls a categorical variable).</p></li>
</ul>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">month</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-22-1.png" width="700"></p>
</div>
</div>
<div class="section level3">
<h3 id="histograms-1">Histograms<a class="anchor" aria-label="anchor" href="#histograms-1"></a>
</h3>
<ul>
<li><p>We can also do a similar thing with histograms.</p></li>
<li>
<p>note that we need to <strong>remove</strong> the
<code>y=...</code> argument, and we also need to add
<code>position = "identity"</code> to the histogram call.</p>
<ul>
<li>otherwise the counts are “stacked” and the display is
misleading</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     fill <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"identity"</span>,</span>
<span>                 alpha <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grey30"</span>, <span class="st">"goldenrod"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></span></code></pre>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-23-1.png" width="700"></p>
<p><strong>You should now be able to complete problem 02 in the homework
assignment</strong></p>
</div>
</div>
<div class="section level2">
<h2 id="two-continuous-variables">Two Continuous Variables<a class="anchor" aria-label="anchor" href="#two-continuous-variables"></a>
</h2>
<div class="section level3">
<h3 id="scatter-plots">Scatter Plots<a class="anchor" aria-label="anchor" href="#scatter-plots"></a>
</h3>
<ul>
<li>Display two continuous variables by mapping them to <code>x</code>
and <code>y</code>
</li>
</ul>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_length_mm</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-24-1.png" width="700"></p>
<div class="section level4">
<h4 id="map-attributes-to-other-columns">map attributes to other columns<a class="anchor" aria-label="anchor" href="#map-attributes-to-other-columns"></a>
</h4>
<div class="section level5">
<h5 id="color">Color<a class="anchor" aria-label="anchor" href="#color"></a>
</h5>
<ul>
<li><p>Using a categorical variable</p></li>
<li>
<p>Gives discrete colors</p>
<ul>
<li>i.e., “red”, or “blue”</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_length_mm</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     color <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-25-1.png" width="700"></p>
<ul>
<li><p>Using a continuous variable</p></li>
<li><p>gives “shades” of one color, based on value</p></li>
</ul>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_length_mm</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     color <span class="op">=</span> <span class="va">month</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-26-1.png" width="700"></p>
</div>
<div class="section level5">
<h5 id="shape">Shape<a class="anchor" aria-label="anchor" href="#shape"></a>
</h5>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_length_mm</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     shape <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-27-1.png" width="700"></p>
</div>
<div class="section level5">
<h5 id="shape-color">Shape + color<a class="anchor" aria-label="anchor" href="#shape-color"></a>
</h5>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_length_mm</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     color <span class="op">=</span> <span class="va">taxa</span>, </span>
<span>                     shape <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">month</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-28-1.png" width="700"></p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="geom_smooth">
<code>geom_smooth()</code><a class="anchor" aria-label="anchor" href="#geom_smooth"></a>
</h3>
<ul>
<li><p>We will often want to estimate the relationship between our
predictor (<code>x</code>) and our response (<code>y</code>).</p></li>
<li><p>do this with <code><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth()</a></code></p></li>
</ul>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_length_mm</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `geom_smooth()` using method = 'loess' and formula = 'y ~ x'</span></span></code></pre>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-29-1.png" width="700"></p>
<ul>
<li><p>the default is a “squiggly line”</p></li>
<li><p>we will limit ourselves to linear relationships, so add
<code>method = "lm"</code></p></li>
</ul>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_length_mm</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `geom_smooth()` using formula = 'y ~ x'</span></span></code></pre>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-30-1.png" width="700"></p>
<ul>
<li><p><code><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth()</a></code> inherits other aspects from
aes.</p></li>
<li><p>add a smooth for both taxa:</p></li>
</ul>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_length_mm</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     color <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `geom_smooth()` using formula = 'y ~ x'</span></span></code></pre>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-31-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="facets">Facets<a class="anchor" aria-label="anchor" href="#facets"></a>
</h3>
<p>In any of the plots, it is also possible to add facets, which gives
each group their own panel:</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_length_mm</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     color <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">taxa</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `geom_smooth()` using formula = 'y ~ x'</span></span></code></pre>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-32-1.png" width="700"></p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">taxa</span>,</span>
<span>                     fill <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dodgerblue"</span>, <span class="st">"hotpink"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">taxa</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-33-1.png" width="700"></p>
<ul>
<li><p>can also add a different variable</p></li>
<li><p>this helps to visualize when we have 2+ grouping
variables</p></li>
</ul>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">taxa</span>,</span>
<span>                     fill <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dodgerblue"</span>, <span class="st">"hotpink"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">month</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-34-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="coda">Coda<a class="anchor" aria-label="anchor" href="#coda"></a>
</h3>
<p><strong>You should now be able to finish the homework. The below
information is provided for your personal edification</strong></p>
<div class="section level4">
<h4 id="grammar-of-graphics">Grammar of graphics<a class="anchor" aria-label="anchor" href="#grammar-of-graphics"></a>
</h4>
<ul>
<li><p>Uniquely describe any plot based on a defined set of
information</p></li>
<li><p>Leland Wilkinson</p></li>
<li>
<p>Geometric object(s)</p>
<ul>
<li><p>Data</p></li>
<li><p>Mapping</p></li>
<li><p>Statistical transformation</p></li>
<li><p>Position (allows you to shift objects, e.g., spread out
overlapping data points)</p></li>
</ul>
</li>
<li><p>Facets</p></li>
<li><p>Coordinates (coordinate systems other than cartesian, also allows
zooming)</p></li>
</ul>
</div>
<div class="section level4">
<h4 id="saving-plots-as-new-files">Saving plots as new files<a class="anchor" aria-label="anchor" href="#saving-plots-as-new-files"></a>
</h4>
<ul>
<li><p><code><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave()</a></code> function saves whatever the last plot you
made was.</p></li>
<li><p>let’s rerun this code:</p></li>
</ul>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">invert</span>,</span>
<span>       mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>                     y <span class="op">=</span> <span class="va">taxa</span>,</span>
<span>                     fill <span class="op">=</span> <span class="va">taxa</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dodgerblue"</span>, <span class="st">"hotpink"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">month</span><span class="op">)</span></span></code></pre></div>
<p><img src="lab_04b_ggplot_files/figure-html/unnamed-chunk-35-1.png" width="700"></p>
<ul>
<li>we will now save it into the home directory of our project and name
the file:</li>
</ul>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span><span class="st">"invert_by_month_taxa.jpg"</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>The type of the file is determined by the file extension</li>
</ul>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span><span class="st">"invert_by_month_taxa.jpg"</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>
<p>if you want to save it in a specific folder, add it as
<code>"folder_name\"</code> in front of the file name</p>
<ul>
<li>Make sure you actually have a folder named that before saving!</li>
</ul>
</li>
<li><p>For example, if you followed the recommended file structure for
this course, you should have a <code>homework</code> folder.</p></li>
<li><p>to save the last <code>ggplot</code> figure you made as a .png
file to your homework folder, enter the following:</p></li>
</ul>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span><span class="st">"homework/invert_by_month_taxa.png"</span><span class="op">)</span></span></code></pre></div>
<ul>
<li><p>Check your folder to make sure the file is there.</p></li>
<li><p>Open it to see how it looks</p></li>
<li><p>You may want to delete this from your homework folder so you
don’t get confused later.</p></li>
</ul>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Justin Pomeranz.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
